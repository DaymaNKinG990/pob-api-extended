# Read the Docs configuration file
# See https://docs.readthedocs.io/en/stable/config-file/v2.html for details

version: 2

# Build environment
build:
  os: ubuntu-22.04
  tools:
    python: "3.12"
  jobs:
    pre_create_environment:
      # Install uv if not already present
      - |
        if ! command -v uv &> /dev/null; then
          echo "Installing uv..."
          curl -LsSf https://astral.sh/uv/install.sh | sh
          export PATH="$HOME/.cargo/bin:$PATH"
        else
          echo "uv is already installed"
        fi
    install:
      # Use uv to install dependencies with docs extras
      - |
        export PATH="$HOME/.cargo/bin:$PATH"
        uv pip install -e ".[docs]"

# Sphinx documentation builder
sphinx:
  configuration: docs/conf.py
